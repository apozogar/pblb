<div class="carnet-container">
    <p-card class="betis-card">
        <div class="betis-header">
            <div class="betis-title">
                <h2>PEÑA BETICA LUIS BELLVER - GILENA</h2>
                <h3>Carnet de Socio</h3>
            </div>
            <i
                pTooltip="Editar Datos"
                class="pi pi-pencil edit-icon"
                (click)="modificarDatos()">
            </i>
        </div>

        <div class="betis-body" *ngFor="let socio of socios">
            <app-logo *ngIf="socio"></app-logo>
            <div class="socio-info">
                <div class="info-row">
                    <span class="label">Nº Socio:</span>
                    <span class="value">{{ socio?.numeroSocio || '...' }}</span>
                </div>
                <div class="info-row">
                    <span class="label">Nombre:</span>
                    <span class="value">{{ socio?.nombre || 'Cargando...' }}</span>
                </div>
                <div class="info-row">
                    <span class="label">DNI:</span>
                    <span class="value">{{ socio?.dni || '...' }}</span>
                </div>
                <div class="info-row">
                    <span class="label">Teléfono:</span>
                    <span class="value">{{ socio?.telefono || '...' }}</span>
                </div>
            </div>
        </div>

        <div class="betis-footer">
            <p>¡Viva er Betis manque pierda!</p>
        </div>
    </p-card>

    <div class="history-table-container">
        <p-card header="Historial de Cuotas">
            <p-table [value]="cuotas">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Mes</th>
                        <th>Año</th>
                        <th>Importe</th>
                        <th class="text-center">Estado</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-cuota>
                    <tr>
                        <td>{{ cuota.mes }}</td>
                        <td>{{ cuota.anio }}</td>
                        <td>{{ cuota.importe | currency:'EUR':'symbol':'1.2-2' }}</td>
                        <td class="text-center">
                            <p-badge style="width: 100%"
                                     [value]="cuota.estado"
                                     [severity]="cuota.estado === 'Pagado' ? 'success' : 'danger'">
                            </p-badge>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </p-card>
    </div>
</div>
